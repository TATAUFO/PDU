# PDU:一种点对点的社交网络
Parallel Digital Universe - A Peer-to-Peer Social Network

email: liupeng@tataufo.com

[![GoDoc](https://img.shields.io/badge/godoc-reference-blue.svg)](https://godoc.org/github.com/TATAUFO/PDU)
[![GoReport](https://goreportcard.com/badge/github.com/TATAUFO/PDU)](https://goreportcard.com/report/github.com/TATAUFO/PDU)
[![Travis](https://travis-ci.org/TATAUFO/PDU.svg?branch=master)](https://travis-ci.org/TATAUFO/PDU)
[![License](https://img.shields.io/badge/license-GPL%20v3-blue.svg)](LICENSE)


## Abstract

SNS，即社交网络服务，如Facebook，用户可以在其上创建身份，维护社交关系并进行信息传播，交互。但现有的SNS均依赖于某个第三方的网络服务，而这个第三方（如Facebook）则越来越不被信任。BitTorrent协议，能够实现P2P的信息传播，但其根本目的是提高对于已知内容的传播效率，缺乏在P2P网络下的账号系统，所以无法对未知内容有所判断。即便有数字签名，能够证明每个信息的来源，但是因为缺少第三方验证（如手机号注册），创建账号的成本为零，所以当无用（虚假）的信息会充斥整个网络且无法信息来源进行惩罚。

我们提出一种在纯粹P2P的环境下增加创建成本的方式，并基于这种账户系统，构建完整的P2P社交网络形态。首先我们引入的时间证明，用以证明某个特定行为发生于某时刻之后。新账号的创建必须由多个（通常2个）合法账号签名，同一账号的此类签名操作需满足时间间隔。每个网络的参与者（用户），都在本地以DAG的结构维护所有账号之间的关系拓扑，并随时可以根据自己获知的新消息，对新的账号进行验证增补，同时也可因作恶行为对某些账号及关联账号进行惩罚。

与比特币的共识不同，在PDU中你只相信你所相信的。

## Introduction

现今互联网上的信息传播、交互大多依赖于一个强大可信的第三方中心化服务，如Facebook、Twitter、微信、微博等社交网络服务。但无论有意或无意，第三方服务都存在越权使用用户信息或者造成用户数据泄露的可能。不过在现实情况中，即便明知这种情况已经发生，由于对于三方中心化服务的依赖，很多用户依然不得已选择继续使用发生问题的服务，而非迁移自己的数据。因为对于大多数用户而言，离开某个平台虽然不会损失自己的数据信息，但却失去了在此平台上长期积累的用户关系和自身信用。

我们提出PDU的本意并非完全排除第三方的中心化服务，而是希望能够通过P2P账号系统的实现，能够将用户身份确认及关系拓扑脱离于某个特定平台，用以消除用户对于特定第三方中心化服务的依赖，让用户的身份真正归属于用户。（借此，也能够减轻如facebook、腾讯等对于互联网服务的垄断程度）

我们引入时间证明，并以此为基础订立自然法则。符合自然法则的新建账号才能更广泛的被整个P2P网络所认可，同时每个账号也存在自身的生命周期，在其内的合法信息，才能够获得更为广泛的传播。由此，整个系统的账号数量的增速得到控制， 网络实时的信息总量也可控，同时单个账号也可以根据时间证明来过滤有效账号和时效性高的信息。任何违背自然法则的时间都会作为证据在网络中传播，以利每个用户维护本地的DAG结构的用户拓扑。

时间证明是PDU中用户一切行为成本控制的基础，但因为PDU中没有强制的共识，取而代之的是用户自身的选择，所以完全可能有多个不同的时间证明的存在，或者说多从任何一点，都可能分裂出新的时间线。PDU接收这种情况的存在，就如同平时存在的多个时空，甚至每个时空可以设定不同的时间流速来影响本时空中的行为成本。同时任何用户也可同时存在于自己选择的多个时空当中。	
## Time Proof 

时间证明本身是一种消息（Message），并无特别。这种消息的每条信息中（注意不是其时间证明字段中，而是信息内容中）包含一个整数和一个字符串，数字作为这个时间证明当前的时间，而字符串则作为这个时间证明的佐证。这个结构连同这条消息的签名，会被一起放入采用这个时间证明的消息中，作为那条消息的时间证明。

时间证明中除了包含上述基本内容之外也可以包含消息中的任意内容，如其他的时间证明（Time Proof），实时的观测数据，其他的消息内容等用以增强本时间证明的可信程度。需要注意的是不同的时间证明中所包含的时间可能被用于构建不同的时空，所以即便是统一消息包含的多个时间证明，其中的各个数值之间也可能毫无关系。只是用来让本消息在多个时空中均合法。同时，时间证明也未规定相邻两个块之间的时间间隔。

时间证明的选择权在每个用户，用户可以在行为（消息）中选择一个，多个，或者完全不选择任何时间证明，也可以在自己的多条消息中选择不同的时间证明。但推荐用户尽量选择可信度高的时间证明来为自己的行为设置时间证据，以防止由于发出时间证明的账号的作恶行为影响自己所采用的时间证明的公信力。因为时间证明本身属于消息，所以其可信度的判断规则同普通消息可信度的判断规则。

对于时间证明的发布者而言，创建新的时间证明可以从某个已存在的较为通用的时间证明的任意时间开始分叉，这样的做法可以尽可能保留更多的当前已经合法的用户。使得本证明更容易被更多的账号所采用。因为账号的创建成本，生命周期等都受制于时间，所以不同的时间证明可以对应不同的信息生命周期，很可以一个账号在某个时间线上生命周期已经结束，而在其他的时间线上还未结束。

## Account Topology (DAG)

 
## Message (Chain)


## Network


#### Message Spread

#### Account Create

#### PDU Create Step


## Function Node


## Conclusion

本文中我们提出了一种去中心化的P2P社交网络的构想，通过引入时间证明，并以此为基础，给予P2P的网络上一切用户行为提供成本计算的依据。用户可以按照自己的意愿，选择自己所存在的网络时空（多个）。通过次方式，我们将用户的身份及用户的社交关系归还于用户本身，而非依存与某个特定的社交网络服务。

不同于以比特币为代表的去中心化数字加密货币，PDU并非用共识强制全网接收并维护唯一的一致数据，而是让用户按照自己的意愿去选择接收整个网络中对自己有意义的那部分信息。同时允许用户传播并收集作恶证据的方式，来进一步增加作恶的成本。同时DAG结构的关系维护，也可以方便的进行关联惩罚，进一步提高此成本。

本地建议维护的数据除自身产生的消息之外，只有自相关的部分账号拓扑关系，相比于比特币节点需维护全量交易信息的方式，极大地提高了信息存储的效率。

人类社会发展至今，就没有产生过任何一次全人类的共识。个体总在不停的选择自己所接受的价值观，且同时努力让自己的行为去更加符合那种价值观。不同的体制，朝代更替，信仰兴衰，就如同PDU世界中的一个个不同的时间证明……



















